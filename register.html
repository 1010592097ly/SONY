<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>æ³¨å†Œé¡µé¢</title><link rel="stylesheet" href="./css/register.min.css"></head><body><div class="register"><div class="user">ğŸ‘¤ï¼š<input type="text" id="name" placeholder="è¯·è¾“å…¥ç”¨æˆ·å"></div><div class="password">å¯†ç ï¼š<input type="text" id="password" placeholder="è¯·è¾“å…¥å¯†ç "></div><div class="repassword">ç¡®è®¤å¯†ç ï¼š<input type="text" id="repassword" placeholder="è¯·ç¡®è®¤å¯†ç "></div><div class="alert" id="alert"><span></span></div><div class="btn"><button id="btn">æ³¨å†Œ</button> <span><a href="./login.html">ç«‹å³ç™»é™†ğŸ‘Œ</a></span></div></div><script type="module">import {$post, antiShake} from "./js/ajax.js";
        var aInputs = document.querySelectorAll(".register input");
        var aAlert = document.getElementById("alert");
        var oBtn = document.getElementById("btn");

        oBtn.onclick = antiShake(download,1000);
            function download(){
                $post({
                    url: "phps/register.php",
                    data: {
                        username: aInputs[0].value,
                        password: aInputs[1].value,
                        repassword: aInputs[2].value,
                    },
                    success: function(result){
                        console.log(result);
                        var obj = JSON.parse(result);
                        aAlert.style.display = 'block';
                        if(obj.code){
                            //é”™è¯¯
                            aAlert.innerHTML = obj.msg;
                            aAlert.style.color = "red";
                        }else{
                            //æˆåŠŸ
                            aAlert.innerHTML = obj.msg;
                            aAlert.style.color = "green";
                        }
                    },
                    error: function(msg){
                        console.log(msg);
                    }
                })
            }</script></body></html>